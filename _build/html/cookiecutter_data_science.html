

<!doctype html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Using cookiecutter templates for project structure &#8212; aap courseweb</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/bizstyle.css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="nav-item nav-item-0"><a href="index.html">aap courseweb</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Using cookiecutter templates for project structure</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="using-cookiecutter-templates-for-project-structure">
<h1>Using cookiecutter templates for project structure<a class="headerlink" href="#using-cookiecutter-templates-for-project-structure" title="Permalink to this heading">¶</a></h1>
<section id="so-how-do-you-structure-a-python-project">
<h2>So, how do you structure a Python project?<a class="headerlink" href="#so-how-do-you-structure-a-python-project" title="Permalink to this heading">¶</a></h2>
<p>There are no shortage of opinions on this question and there’s no one
right answer. As the Python packaging ecosystem has evolved over time,
so has the way one can and/or should structure Python projects. In
addition, different types of projects (e.g. single installable library
package vs a web app) might call for <a class="reference external" href="https://realpython.com/python-application-layouts/">different types of project
layouts</a>.</p>
</section>
<section id="enter-the-cookiecutter">
<h2>Enter, the Cookiecutter<a class="headerlink" href="#enter-the-cookiecutter" title="Permalink to this heading">¶</a></h2>
<p>Arising from this need to have a simple way to quickly create good
project structures for different types of projects was the
<a class="reference external" href="https://cookiecutter.readthedocs.io/en/1.7.2/">Cookiecutter</a>. From
the docs:</p>
<blockquote>
<div><p>A command-line utility that creates projects from cookiecutters
(project templates), e.g. creating a Python package project from a
Python package project template.</p>
</div></blockquote>
<p>In a nutshell, from a simple json configuration file and an example
folder and file structure, the cookiecutter program asks us a few
questions and then generates a skeleton project structure (set of
folders and files). It does this by using <a class="reference external" href="https://jinja.palletsprojects.com/en/2.11.x/">Jinja2
templates</a>. Here’s what
a simple <em>cookiecutter.json</em> file might look like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;project_name&quot;</span><span class="p">:</span> <span class="s2">&quot;project name&quot;</span><span class="p">,</span>
    <span class="s2">&quot;repo_name&quot;</span><span class="p">:</span> <span class="s2">&quot;{{ cookiecutter.project_name }}&quot;</span><span class="p">,</span>
    <span class="s2">&quot;author_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Your name (or your organization/company/team)&quot;</span><span class="p">,</span>
    <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;A short description of the project.&quot;</span><span class="p">,</span>
    <span class="s2">&quot;open_source_license&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;MIT&quot;</span><span class="p">,</span> <span class="s2">&quot;BSD-3-Clause&quot;</span><span class="p">,</span> <span class="s2">&quot;No license file&quot;</span><span class="p">],</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The key values are the cookiecutter attributes that you want to define
and the values are the default values and/or options. The
<code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">SOMETHING</span> <span class="pre">}}</span></code> are the templates. Notice that the default value for
<code class="docutils literal notranslate"><span class="pre">repo_name</span></code> is just the project name you entered. These templates are
then used throughout the specific cookiecutter’s example folder
structure and the cookiecutter program does a big “Search and Replace”,
filling in templates with their values. Simple but very powerful.</p>
<p>Various people have created different cookiecutters (i.e. templates) designed
for their type of projects and their workflow and tool preferences. The
most relevant for our purposes is the <a class="reference external" href="https://drivendata.github.io/cookiecutter-data-science/">Cookiecutter Data Science
project</a>.</p>
<ul class="simple">
<li><p>It was developed by the folks at
<a class="reference external" href="https://www.drivendata.org/">DrivenData.org</a>,</p></li>
<li><p>has a project structure that is focused on data science type work,</p></li>
<li><p>the <a class="reference external" href="https://drivendata.github.io/cookiecutter-data-science/">main project documentation
page</a> has
a really good introduction to the importance of good project
structure and software engineering practices aimed at data science
folks who might not be used to thinking of such things. READ IT.</p></li>
</ul>
<p>As was intended in the cookiecutter world, other people cloned the
<a class="reference external" href="https://github.com/drivendata/cookiecutter-data-science">Cookiecutter Data Science template from
GitHub</a> and
modified it to better suit their needs. One notable such template was
developed by the Molecular Sciences Software Institute for their <a class="reference external" href="https://education.molssi.org/python-package-best-practices/">Python
Packages Best
Practices</a>
set of tutorials which are modeled after the Software Carpentry
tutorials. In
their <a class="reference external" href="https://education.molssi.org/python-package-best-practices/01-package-setup/index.html">very first
lesson</a>
they walk you through creating a new project structure from their <a class="reference external" href="https://github.com/MolSSI/cookiecutter-cms">CMS
Cookiecutter</a>. While
their cookiecutter has some very nice features, I’ve created our own
modified data science cookiecutter templaste. I’ve actually created two different cookiecutters for this class:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cookiecutter-datascience-simple</span></code> - for simple internal analysis projects</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cookiecutter-datascience-aap</span></code> - our main cookiecutter for most projects</p></li>
</ul>
<p>Let’s start with <cite>cookiecutter-datascience-simple</cite>. Instead of repeating things here,
let’s head over to the <a class="reference external" href="https://github.com/misken/cookiecutter-datascience-simple">cookiecutter-datascience-simple GitHub
page</a> and
take a look at the README and other content.</p>
<section id="creating-a-new-project-using-cookiecutter-datascience-simple">
<h3>Creating a new project using cookiecutter-datascience-simple<a class="headerlink" href="#creating-a-new-project-using-cookiecutter-datascience-simple" title="Permalink to this heading">¶</a></h3>
<p>Ok, let’s create new project called <code class="docutils literal notranslate"><span class="pre">pumpitup</span></code>.</p>
<section id="requirements-to-use-this-cookiecutter-template">
<h4>Requirements to use this cookiecutter template:<a class="headerlink" href="#requirements-to-use-this-cookiecutter-template" title="Permalink to this heading">¶</a></h4>
<p>I’ve already installed cookiecutter in the <cite>aap</cite> conda virtual environment. So, the
instructions below are only needed if you want to either pip or conda
install cookiecutter yourself on some machine or in some virtual
environment.</p>
<ul class="simple">
<li><p>Python 2.7 or 3.5+</p></li>
<li><p><a class="reference external" href="http://cookiecutter.readthedocs.org/en/latest/installation.html">Cookiecutter Python
package</a>
&gt;= 1.4.0: This can be installed with pip by or conda depending on how
you manage your Python packages:</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ pip install cookiecutter
</pre></div>
</div>
<p>or</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ conda config --add channels conda-forge
$ conda install cookiecutter
</pre></div>
</div>
</section>
<section id="to-start-a-new-project-run-from-the-directory-in-which-you-want-your-new-project-to-live">
<h4>To start a new project, run from the directory in which you want your new project to live:<a class="headerlink" href="#to-start-a-new-project-run-from-the-directory-in-which-you-want-your-new-project-to-live" title="Permalink to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cookiecutter</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">misken</span><span class="o">/</span><span class="n">cookiecutter</span><span class="o">-</span><span class="n">datascience</span><span class="o">-</span><span class="n">simple</span>
</pre></div>
</div>
<p>You’ll get prompted with a series of questions and then your project
will get created. <a class="reference external" href="TODO">[demo screencast]</a></p>
</section>
</section>
</section>
<section id="overview-of-cookiecutter-datascience-simple-project-structure">
<h2>Overview of cookiecutter-datascience-simple project structure<a class="headerlink" href="#overview-of-cookiecutter-datascience-simple-project-structure" title="Permalink to this heading">¶</a></h2>
<p>We won’t get into all the details now, but there’s a few things about
the folder structure that we should discuss. Here’s the structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>├── pumpitup                            &lt;- Your notebooks and scripts will live in the main project folder
        │   .gitignore                                  &lt;- Common file types for git to ignore
        │   README.md                                   &lt;- The top-level README for developers (you) using this project
        │   template-nb.ipynb                   &lt;- A Jupyter notebook template
        │
        ├───data                                                &lt;- Final and intermediate data
        │   └───raw                                             &lt;- The original, immutable data dump
        │
        ├───docs
        │       notes.md                                &lt;- Simple markdown template for project notes
        │
        └───output
                        readme.md                               &lt;- Guidance for using this folder
</pre></div>
</div>
<p>A few things to note are listed below. Keep in mind that our goal for now is
to use a <strong>very</strong> simple project structure, suitable for internal analysis by a solo
analyst. Later we will be using a more complex
structure for projects in which we might need to share or deploy our code.</p>
<ol class="arabic simple">
<li><p>The top level <code class="docutils literal notranslate"><span class="pre">pumpitup</span></code> folder will be called the <em>project folder</em>.</p></li>
<li><p>A few subfolders and files are created.</p></li>
<li><p>You can delete folders and add folders depending on the project.</p></li>
<li><p>Your Jupyter notebooks and Python scripts will live side by side in the main project folder. This will make it very easy to do things like importing modules you create into your Jupyter notebooks. There’s a skeleton Jupyter notebook included in the template - feel free to use or delete.</p></li>
<li><p>Data files will live in the <cite>data</cite> folder. The original, raw data, which we <strong>never</strong> modify, is stored in the <cite>data/raw</cite> subfolder.</p></li>
<li><p>For documentation, we’ve just included a markdown file with some typical section headings to use for project notes. Expand as desired. Later in the semester we will learn how to use Sphinx with reStructuredText to write and generate documentation.</p></li>
</ol>
</section>
<section id="adding-files-to-our-new-project">
<h2>Adding files to our new project<a class="headerlink" href="#adding-files-to-our-new-project" title="Permalink to this heading">¶</a></h2>
<p>TODO: Finish this section. The stuff below is from the blog post and needs to be changed.</p>
<p>We’ve got some work in process in the form of a few Jupyter
notebooks and scripts as well both raw and preprocessed data files. All of these are available from the Downloads folder for this session. You’ll notice that I’ve actually included a project folder for pumpitup that was created with the <cite>cookiecutter-datascience-simple</cite> template. Just copy the various files from it to the new project folder you created.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>├── examples
│   │   ├── BookstoreModel.py
│   │   ├── new_car_simulation.ipynb
│   │   ├── what_if_1_model_datatable.ipynb
│   │   ├── what_if_2_goalseek.ipynb
│   │   └── what_if_3_simulation.ipynb
</pre></div>
</div>
<p>Within the <code class="docutils literal notranslate"><span class="pre">notebooks</span></code> folder, I’m putting this notebook along with
some notes in a markdown file.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>├── notebooks
│   │   ├── testing_cookiecutter_structures.md
│   │   └── what_if_4_project_packaging.ipynb
</pre></div>
</div>
<p>Finally, I replaced the placeholder <code class="docutils literal notranslate"><span class="pre">whatif.py</span></code> file with the working
version upon which this project will be built.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Using cookiecutter templates for project structure</a><ul>
<li><a class="reference internal" href="#so-how-do-you-structure-a-python-project">So, how do you structure a Python project?</a></li>
<li><a class="reference internal" href="#enter-the-cookiecutter">Enter, the Cookiecutter</a><ul>
<li><a class="reference internal" href="#creating-a-new-project-using-cookiecutter-datascience-simple">Creating a new project using cookiecutter-datascience-simple</a><ul>
<li><a class="reference internal" href="#requirements-to-use-this-cookiecutter-template">Requirements to use this cookiecutter template:</a></li>
<li><a class="reference internal" href="#to-start-a-new-project-run-from-the-directory-in-which-you-want-your-new-project-to-live">To start a new project, run from the directory in which you want your new project to live:</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#overview-of-cookiecutter-datascience-simple-project-structure">Overview of cookiecutter-datascience-simple project structure</a></li>
<li><a class="reference internal" href="#adding-files-to-our-new-project">Adding files to our new project</a></li>
</ul>
</li>
</ul>

  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/cookiecutter_data_science.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="nav-item nav-item-0"><a href="index.html">aap courseweb</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Using cookiecutter templates for project structure</a></li> 
      </ul>
    </div>
		 <p> &#169; Copyright 2021-2023, Mark Isken.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.0.2.</p>
         <p xmlns:cc="http://creativecommons.org/ns#" >This work is licensed under <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-block;">CC BY-NC-SA 4.0<img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/nc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/sa.svg?ref=chooser-v1"></a></p> 

  </body>
</html>